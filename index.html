<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>노라벨 카카오 지도 (GitHub Pages)</title>
  <style>
    html, body { height: 100%; margin: 0; }
    #map { width: 100%; height: 100%; }
    .credit {
      position: fixed; left: 8px; bottom: 8px; font: 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: rgba(255,255,255,.85); padding: 4px 6px; border-radius: 4px; border: 1px solid #ddd;
    }
  </style>
  <!-- Kakao Maps JS SDK: YOUR_APP_KEY 를 본인 JavaScript 키로 교체하세요 -->
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=61f9ce735615595c9c947ffed8e89360"></script>
</head>
<body>
  <div id="map"></div>
  <div class="credit">© OpenStreetMap contributors · Tiles by CARTO (Positron no-labels)</div>
  <script>
    // ===== 설정 영역 =====
    // 1) 노라벨 타일 URL 템플릿 (HTTPS 필수)
    // CARTO Positron no-labels (밝은 톤)
    const TILE_URL = "https://cartodb-basemaps-a.global.ssl.fastly.net/light_nolabels/{z}/{x}/{y}.png";
    // 다른 예시:
    // const TILE_URL = "https://cartodb-basemaps-b.global.ssl.fastly.net/dark_nolabels/{z}/{x}/{y}.png"; // 어두운 톤
    // const TILE_URL = "https://tile.openstreetmap.org/{z}/{x}/{y}.png"; // (라벨 있음) 테스트용
    
    // 2) 초기 중심/레벨 (대전 중앙 예시)
    const INITIAL_CENTER = { lat: 36.3504, lng: 127.3845 };
    const INITIAL_LEVEL = 6;
    // =====================

    // Kakao Tileset에 노라벨 XYZ 타일을 베이스로 등록
    // Kakao의 타일 좌표계(Y 축)가 TMS 기준이므로, 일반 XYZ -> y 반전 변환 필요
    // yXYZ = (2^z - 1) - y
    kakao.maps.Tileset.add("NOLABEL",
      new kakao.maps.Tileset(
        256, 256,
        function(x, y, z){
          const yXYZ = Math.pow(2, z) - y - 1;
          return TILE_URL
            .replace("{z}", z)
            .replace("{x}", x)
            .replace("{y}", yXYZ);
        },
        [
          new kakao.maps.TilesetCopyright("© OpenStreetMap contributors · Tiles by CARTO", "© OSM · CARTO", 0)
        ],
        false, 0, 22
      )
    );

    // 지도 생성 (베이스 맵 타입을 우리가 등록한 NOLABEL 로 지정)
    const map = new kakao.maps.Map(document.getElementById("map"), {
      center: new kakao.maps.LatLng(INITIAL_CENTER.lat, INITIAL_CENTER.lng),
      level: INITIAL_LEVEL,
      mapTypeId: kakao.maps.MapTypeId.NOLABEL
    });

    // 간단한 테스트 마커 (필요 없으면 삭제하세요)
    const marker = new kakao.maps.Marker({ position: map.getCenter() });
    marker.setMap(map);
  </script>
</body>
</html>
